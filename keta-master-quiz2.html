<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>KETA MASTER - Quiz Linguagem</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0a2a43, #4f5b66);
      margin: 0;
      padding: 0;
      color: #ffffff;
    }

    .container {
      max-width: 750px;
      margin: 40px auto;
      background: rgba(0, 0, 0, 0.35);
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.4);
    }

    h1, h2, h3 {
      text-align: center;
      color: #ffffff;
    }

    #questionNumber {
      font-weight: bold;
      margin-bottom: 10px;
      text-align: center;
    }

    button {
      padding: 12px 25px;
      margin-top: 20px;
      cursor: pointer;
      border: none;
      border-radius: 6px;
      background: #1f6fa8;
      color: #ffffff;
      font-size: 16px;
    }

    button:hover {
      background: #144e75;
    }

    /* Alternativas mais claras */
    .option {
      margin: 10px 0;
      background: rgba(255,255,255,0.30);
      padding: 12px;
      border-radius: 6px;
      color: #ffffff;
    }

    .hidden {
      display: none;
    }

    #timer {
      font-weight: bold;
      text-align: right;
      margin-bottom: 10px;
    }

    .correct {
      color: #7CFC00;
    }

    .wrong {
      color: #FF6F61;
    }

    input[type="radio"] {
      margin-right: 8px;
    }

    /* Relatório final */
    #resultScreen {
      background: #ffffff;
      color: #000000;
      border-radius: 10px;
      padding: 30px;
    }

    #resultScreen h2 {
      color: #000000;
    }
  </style>
</head>

<body>

<div class="container">

  <!-- LOGIN -->
  <div id="loginScreen">
    <h1>KETA MASTER</h1>
    <h3>Linguagem – Texto Verbal – Não Verbal – Misto – Multissemiótico</h3>
    <p style="text-align:center;">Digite seu nome para começar:</p>
    <div style="text-align:center;">
      <input type="text" id="username" placeholder="Seu nome">
      <br><br>
      <button onclick="startQuiz()">Entrar</button>
    </div>
  </div>

  <!-- QUIZ -->
  <div id="quizScreen" class="hidden">
    <div id="timer">Tempo: 02:00</div>
    <h3>KETA MASTER – Linguagem – Texto Verbal – Não Verbal – Misto – Multissemiótico</h3>
    <div id="questionNumber"></div>
    <h2 id="question"></h2>
    <div id="options"></div>
    <button onclick="nextQuestion()">Próxima</button>
    <p id="feedback"></p>
  </div>

  <!-- RESULTADO -->
  <div id="resultScreen" class="hidden">
    <h2>Relatório Final</h2>
    <p id="studentName"></p>
    <p id="score"></p>
    <div id="report"></div>
    <button onclick="restartQuiz()">Jogar novamente</button>
  </div>

</div>

<script>
const questions = [
  { q: "Texto formado apenas por palavras escritas é:", options:["Não verbal","Verbal","Misto","Multissemiótico"], answer:1 },
  { q: "Placas de trânsito com símbolos são textos:", options:["Verbais","Misturados","Não verbais","Multissemióticos"], answer:2 },
  { q: "Cartaz com imagem e frase é texto:", options:["Verbal","Não verbal","Misto","Digital"], answer:2 },
  { q: "Poema escrito é exemplo de texto:", options:["Verbal","Misto","Visual","Multissemiótico"], answer:0 },
  { q: "Gestos e expressões comunicam por meio de:", options:["Palavras","Imagens","Sons","Regras"], answer:1 },
  { q: "Vídeo com imagem, som e legenda é texto:", options:["Verbal","Misto","Não verbal","Multissemiótico"], answer:3 },
  { q: "História em quadrinhos é texto:", options:["Verbal","Misto","Não verbal","Sonoro"], answer:1 },
  { q: "Site com vídeos, textos e áudios é:", options:["Verbal","Não verbal","Misto","Multissemiótico"], answer:3 },
  { q: "Principal recurso do texto verbal:", options:["Imagem","Cor","Som","Palavra"], answer:3 },
  { q: "Uma pintura comunica por meio de:", options:["Frases","Letras","Imagens","Sílabas"], answer:2 }
];

let current = 0;
let score = 0;
let user = "";
let answersLog = [];
let time = 120;
let timeSpent = 0;
let timerInterval;

function startQuiz(){
  user = document.getElementById("username").value;
  if(!user){ alert("Digite seu nome"); return; }

  document.getElementById("loginScreen").classList.add("hidden");
  document.getElementById("quizScreen").classList.remove("hidden");

  startTimer();
  loadQuestion();
}

function startTimer(){
  timerInterval = setInterval(()=>{
    time--;
    let min = String(Math.floor(time/60)).padStart(2,"0");
    let sec = String(time%60).padStart(2,"0");
    document.getElementById("timer").innerText = `Tempo: ${min}:${sec}`;

    if(time <= 0){
      finishQuiz();
    }
  },1000);
}

function loadQuestion(){
  const q = questions[current];

  document.getElementById("questionNumber").innerText =
    `Questão ${current + 1} de ${questions.length}`;

  document.getElementById("question").innerText = q.q;

  const optDiv = document.getElementById("options");
  optDiv.innerHTML = "";
  document.getElementById("feedback").innerText = "";

  q.options.forEach((opt,i)=>{
    const div = document.createElement("div");
    div.className = "option";
    div.innerHTML = `<input type="radio" name="opt" value="${i}"> ${opt}`;
    optDiv.appendChild(div);
  });
}

function nextQuestion(){
  const selected = document.querySelector("input[name='opt']:checked");
  if(!selected){
    alert("Escolha uma opção");
    return;
  }

  const ans = Number(selected.value);
  const correct = questions[current].answer;

  if(ans === correct){
    score++;
    document.getElementById("feedback").innerHTML =
      "<span class='correct'>✔ Resposta correta!</span>";
  } else {
    document.getElementById("feedback").innerHTML =
      `<span class='wrong'>✘ Errado. Correta: ${questions[current].options[correct]}</span>`;
  }

  answersLog.push({
    q: questions[current].q,
    correct: ans === correct,
    right: questions[current].options[correct]
  });

  current++;

  if(current < questions.length){
    setTimeout(loadQuestion, 1200);
  } else {
    setTimeout(finishQuiz, 1200);
  }
}

function finishQuiz(){
  clearInterval(timerInterval);

  timeSpent = 120 - time;
  let minutes = Math.floor(timeSpent / 60);
  let seconds = timeSpent % 60;

  document.getElementById("quizScreen").classList.add("hidden");
  document.getElementById("resultScreen").classList.remove("hidden");

  document.getElementById("studentName").innerText = `Aluno(a): ${user}`;
  document.getElementById("score").innerHTML =
    `Pontuação: ${score} / 10<br>⏱️ Tempo utilizado: ${minutes} min ${seconds} s`;

  const rep = document.getElementById("report");
  rep.innerHTML = "";

  answersLog.forEach((a,i)=>{
    rep.innerHTML += `<p>${i+1}. ${a.q}<br>${
      a.correct ? "✔ Acertou" : "✘ Errou – Correta: " + a.right
    }</p>`;
  });
}

function restartQuiz(){
  location.reload();
}
</script>

</body>
</html>